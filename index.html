<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campus AI Assistant - Help Desk Support</title>
    <style>
        /* Font Import (Professional Look) */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&family=EB+Garamond:wght@700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2257ee;
            --secondary-color: #182046;
            --accent-color: #2ee59d;
            --bg-gradient-start: #181c2b;
            --bg-gradient-end: #1e233b;
            --text-primary: #f8fafc;
            --text-secondary: #bfcde4;
            --card-bg: rgba(20, 23, 35, 0.92);
            --border-color: #2d334d;
            --success-color: #15d29c;
            --warning-color: #f9a825;
            --error-color: #e53935;
            --glass-blur: blur(18px);
            --shadow-main: 0 16px 48px rgba(34, 87, 238, 0.13), 0 1.5px 6px rgba(25, 29, 45, 0.07);
            --shadow-hover: 0 2px 24px 2px rgba(34, 87, 238, 0.12);
            --font-main: 'Inter', system-ui, sans-serif;
            --font-head: 'EB Garamond', serif;
        }

        body {
            font-family: var(--font-main);
            background: linear-gradient(140deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            min-height: 100vh;
            color: var(--text-primary);
            position: relative;
            overflow-x: hidden;
        }

        .bg-animation {
            position: fixed;
            width: 100vw;
            height: 100vh;
            top: 0; left: 0;
            z-index: 0;
            opacity: 0.5;
            pointer-events: none;
        }
        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: linear-gradient(140deg, var(--accent-color), var(--primary-color));
            border-radius: 50%;
            box-shadow: 0 0 18px 3px var(--accent-color);
            animation: float 18s infinite linear;
        }
        @keyframes float {
            0% { transform: translateY(110vh) scale(1); opacity: 0.2;}
            20% { opacity: 0.9;}
            80% { opacity: 0.9;}
            100% { transform: translateY(-120vh) scale(1.1); opacity: 0.2;}
        }

        .container {
            max-width: 1440px;
            margin: 0 auto;
            padding: 40px 24px 24px;
            position: relative;
            z-index: 1;
        }

        /* Header */
        .header {
            background: var(--card-bg);
            backdrop-filter: var(--glass-blur);
            border-radius: 18px;
            padding: 34px 32px 28px;
            margin-bottom: 36px;
            border: 1.2px solid var(--border-color);
            box-shadow: var(--shadow-main);
            animation: slideDown 0.7s cubic-bezier(.6,1.76,.6,1.24);
        }
        @keyframes slideDown {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 24px;
        }
        .logo-section {
            display: flex;
            align-items: center;
            gap: 18px;
        }
        .logo {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-head);
            font-weight: 900;
            font-size: 36px;
            color: #fff;
            box-shadow: 0 8px 32px 0 rgba(46,229,157,0.07);
            animation: pulse 2.5s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1);}
            55% { transform: scale(1.08);}
        }
        .title {
            font-size: 2.1rem;
            font-family: var(--font-head);
            font-weight: 700;
            letter-spacing: 1px;
            background: linear-gradient(135deg, var(--text-primary), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-top: 4px;
            font-weight: 500;
            letter-spacing: 0.5px;
        }
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 24px;
            background: linear-gradient(90deg, rgba(21,210,156,0.14), rgba(34,87,238,0.07) 85%);
            border: 1.2px solid var(--success-color);
            border-radius: 22px;
            font-weight: 600;
            box-shadow: 0 1px 6px 0 rgba(21,210,156,0.09);
            font-size: 1.09rem;
            animation: fadeIn 1s ease;
        }
        .status-dot {
            width: 11px;
            height: 11px;
            background: var(--success-color);
            border-radius: 50%;
            animation: blink 1.7s infinite;
        }
        @keyframes blink {
            0%, 100% { opacity: 1;}
            60% { opacity: 0.6;}
        }

        /* Main Layout */
        .main-layout {
            display: grid;
            grid-template-columns: 330px 1fr;
            gap: 32px;
            min-height: 700px;
        }

        /* Sidebar */
        .sidebar {
            background: var(--card-bg);
            backdrop-filter: var(--glass-blur);
            border-radius: 16px;
            padding: 32px 22px 24px;
            border: 1.1px solid var(--border-color);
            overflow-y: auto;
            animation: slideRight 0.7s cubic-bezier(.6,1.76,.6,1.24);
            box-shadow: var(--shadow-main);
        }
        @keyframes slideRight {
            from { transform: translateX(-30px); opacity: 0;}
            to { transform: translateX(0); opacity: 1;}
        }
        .quick-actions, .recent-topics {
            margin-bottom: 32px;
        }
        .section-title {
            font-size: 0.97rem;
            font-weight: 700;
            color: var(--accent-color);
            text-transform: uppercase;
            letter-spacing: 0.7px;
            margin-bottom: 16px;
            font-family: var(--font-main);
        }
        .quick-action-btn {
            width: 100%;
            padding: 16px 14px;
            margin-bottom: 10px;
            background: linear-gradient(98deg, rgba(46,229,157,0.12), rgba(34,87,238,0.11) 80%);
            border: 1.1px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-primary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(.84,.12,.4,1.15);
            font-size: 1rem;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 14px;
            box-shadow: 0 3px 18px 0 rgba(46, 229, 157, 0.05);
        }
        .quick-action-btn:hover {
            background: linear-gradient(110deg, rgba(46,229,157,0.23), rgba(34,87,238,0.17) 85%);
            border-color: var(--accent-color);
            transform: translateX(7px) scale(1.031);
            box-shadow: var(--shadow-hover);
        }
        .icon {
            width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Chat Container */
        .chat-container {
            background: var(--card-bg);
            backdrop-filter: var(--glass-blur);
            border-radius: 18px;
            border: 1.1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            animation: fadeIn 0.8s cubic-bezier(.6,1.76,.6,1.24);
            box-shadow: var(--shadow-main);
        }
        @keyframes fadeIn {
            from { opacity: 0;}
            to { opacity: 1;}
        }
        .chat-header {
            padding: 30px 32px 20px;
            background: linear-gradient(135deg, rgba(34,87,238,0.09), rgba(46,229,157,0.03));
            border-bottom: 1.1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .agent-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .agent-avatar {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 1.3rem;
            font-family: var(--font-head);
            color: #fff;
            box-shadow: 0 2px 18px 0 rgba(34,87,238,0.13);
            animation: rotate 24s linear infinite;
        }
        @keyframes rotate {
            from { transform: rotate(0deg);}
            to { transform: rotate(360deg);}
        }
        .agent-details h3 {
            font-size: 1.12rem;
            margin-bottom: 2px;
            font-family: var(--font-head);
            letter-spacing: 0.5px;
        }
        .agent-details p {
            font-size: 0.99rem;
            color: var(--text-secondary);
            font-family: var(--font-main);
        }
        .chat-actions {
            display: flex;
            gap: 10px;
        }
        .action-btn {
            width: 38px;
            height: 38px;
            background: rgba(255,255,255,0.03);
            border: 1.1px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            font-size: 1.14rem;
        }
        .action-btn:hover {
            background: rgba(34,87,238,0.10);
            border-color: var(--accent-color);
            color: var(--accent-color);
            transform: scale(1.12);
        }

        /* Messages Area */
        .messages-area {
            flex: 1;
            overflow-y: auto;
            padding: 38px 40px 32px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            font-size: 1.08rem;
        }
        .message {
            display: flex;
            gap: 15px;
            animation: messageSlide 0.32s cubic-bezier(.6,1.76,.6,1.24);
        }
        @keyframes messageSlide {
            from { transform: translateY(20px); opacity: 0;}
            to { transform: translateY(0); opacity: 1;}
        }
        .message.user {
            flex-direction: row-reverse;
        }
        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(140deg, #667eea, #2ee59d);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: 800;
            font-family: var(--font-main);
            flex-shrink: 0;
            box-shadow: 0 1px 7px 0 rgba(34, 87, 238, 0.11);
        }
        .message.bot .message-avatar {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        }
        .message-content {
            max-width: 68vw;
            padding: 16px 22px;
            background: rgba(255, 255, 255, 0.06);
            border-radius: 14px;
            border: 1.1px solid var(--border-color);
            box-shadow: 0 1px 6px 0 rgba(46,229,157,0.03);
            font-size: 1.03rem;
        }
        .message.user .message-content {
            background: linear-gradient(135deg, rgba(34,87,238,0.17), rgba(46,229,157,0.07) 80%);
            border-color: var(--accent-color);
        }
        .message-text {
            font-size: 1.05rem;
            line-height: 1.7;
            color: var(--text-primary);
        }
        .message-time {
            font-size: 0.93rem;
            color: var(--text-secondary);
            margin-top: 8px;
            text-align: right;
        }

        .typing-indicator {
            display: flex;
            gap: 5px;
            padding: 16px 22px 6px;
        }
        .typing-dot {
            width: 9px;
            height: 9px;
            background: var(--text-secondary);
            border-radius: 50%;
            animation: typing 1.3s infinite;
        }
        .typing-dot:nth-child(2) { animation-delay: 0.18s;}
        .typing-dot:nth-child(3) { animation-delay: 0.36s;}
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0);}
            30% { transform: translateY(-10px);}
        }

        /* Input Area */
        .input-area {
            padding: 28px 36px 24px;
            background: rgba(255,255,255,0.025);
            border-top: 1.1px solid var(--border-color);
        }
        .input-container {
            display: flex;
            gap: 18px;
            align-items: flex-end;
        }
        .input-wrapper {
            flex: 1;
            position: relative;
        }
        .message-input {
            width: 100%;
            padding: 16px 56px 16px 18px;
            background: rgba(255,255,255,0.06);
            border: 1.1px solid var(--border-color);
            border-radius: 13px;
            color: var(--text-primary);
            font-size: 1.05rem;
            font-family: var(--font-main);
            resize: none;
            outline: none;
            font-weight: 500;
            transition: all 0.22s;
            min-height: 54px;
            max-height: 140px;
        }
        .message-input:focus {
            border-color: var(--accent-color);
            background: rgba(255,255,255,0.11);
        }
        .input-actions {
            position: absolute;
            right: 12px;
            bottom: 12px;
            display: flex;
            gap: 7px;
        }
        .input-action-btn {
            width: 33px;
            height: 33px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            transition: all 0.19s;
            font-size: 1.1rem;
        }
        .input-action-btn:hover {
            background: rgba(46,229,157,0.13);
            color: var(--accent-color);
        }
        .send-btn {
            width: 54px;
            height: 54px;
            background: linear-gradient(140deg, var(--primary-color), var(--accent-color));
            border: none;
            border-radius: 14px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.22s;
            font-size: 1.38rem;
            box-shadow: 0 4px 32px 0 rgba(46,229,157,0.09);
        }
        .send-btn:hover {
            transform: scale(1.07);
            box-shadow: 0 4px 24px 0 rgba(34,87,238,0.14);
        }
        .send-btn:active { transform: scale(0.98);}
        .suggested-actions {
            display: flex;
            gap: 12px;
            margin-top: 17px;
            flex-wrap: wrap;
        }
        .suggestion-chip {
            padding: 8px 17px;
            background: linear-gradient(95deg, rgba(46,229,157,0.13), rgba(34,87,238,0.09) 90%);
            border: 1.1px solid var(--border-color);
            border-radius: 18px;
            font-size: 1.02rem;
            color: var(--text-secondary);
            cursor: pointer;
            font-weight: 500;
            transition: all 0.19s;
        }
        .suggestion-chip:hover {
            background: linear-gradient(98deg, rgba(46,229,157,0.25), rgba(34,87,238,0.19) 80%);
            border-color: var(--accent-color);
            color: var(--accent-color);
            transform: translateY(-2px) scale(1.04);
        }

        .category-badge {
            display: inline-block;
            padding: 6px 13px;
            background: linear-gradient(98deg, rgba(46,229,157,0.16), rgba(34,87,238,0.13) 80%);
            border-radius: 7px;
            font-size: 0.99rem;
            color: var(--accent-color);
            font-weight: 700;
            margin-bottom: 10px;
            letter-spacing: 0.4px;
        }

        /* Responsive Design */
        @media (max-width: 900px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
            .sidebar {
                display: none;
            }
            .message-content {
                max-width: 95vw;
            }
            .header-content {
                flex-direction: column;
                align-items: flex-start;
            }
        }
        @media (max-width: 600px) {
            .container { padding: 8px 2vw;}
            .chat-header, .input-area { padding: 15px 6vw;}
            .messages-area { padding: 13px 7vw;}
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar { width: 9px; height: 8px;}
        ::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.03);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-color);
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation" id="bgAnimation"></div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo">üéì</div>
                    <div>
                        <h1 class="title">Campus AI Assistant</h1>
                        <p class="subtitle">Intelligent Help Desk Support System - IEEE Access</p>
                    </div>
                </div>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span>AI Online</span>
                </div>
            </div>
        </header>

        <!-- Main Layout -->
        <div class="main-layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="quick-actions">
                    <h3 class="section-title">Quick Actions</h3>
                    <button class="quick-action-btn" onclick="sendQuickAction('Course Registration')">
                        <span class="icon">üìö</span>
                        Course Registration
                    </button>
                    <button class="quick-action-btn" onclick="sendQuickAction('IT Support')">
                        <span class="icon">üíª</span>
                        IT Support
                    </button>
                    <button class="quick-action-btn" onclick="sendQuickAction('Library Services')">
                        <span class="icon">üìñ</span>
                        Library Services
                    </button>
                    <button class="quick-action-btn" onclick="sendQuickAction('Financial Aid')">
                        <span class="icon">üí∞</span>
                        Financial Aid
                    </button>
                    <button class="quick-action-btn" onclick="sendQuickAction('Academic Calendar')">
                        <span class="icon">üìÖ</span>
                        Academic Calendar
                    </button>
                    <button class="quick-action-btn" onclick="sendQuickAction('Campus Facilities')">
                        <span class="icon">üèõÔ∏è</span>
                        Campus Facilities
                    </button>
                </div>
                <div class="recent-topics">
                    <h3 class="section-title">Popular Topics</h3>
                    <button class="quick-action-btn" onclick="sendQuickAction('WiFi Issues')">
                        <span class="icon">üì°</span>
                        WiFi Connection
                    </button>
                    <button class="quick-action-btn" onclick="sendQuickAction('Transcript Request')">
                        <span class="icon">üìÑ</span>
                        Transcript Request
                    </button>
                    <button class="quick-action-btn" onclick="sendQuickAction('Parking Permit')">
                        <span class="icon">üöó</span>
                        Parking Information
                    </button>
                </div>
            </aside>

            <!-- Chat Container -->
            <main class="chat-container">
                <!-- Chat Header -->
                <div class="chat-header">
                    <div class="agent-info">
                        <div class="agent-avatar">AI</div>
                        <div class="agent-details">
                            <h3>Campus Assistant</h3>
                            <p>Powered by Advanced NLP</p>
                        </div>
                    </div>
                    <div class="chat-actions">
                        <button class="action-btn" title="Clear Chat" onclick="clearChat()">üóëÔ∏è</button>
                        <button class="action-btn" title="Export Chat" onclick="exportChat()">üì•</button>
                        <button class="action-btn" title="Settings">‚öôÔ∏è</button>
                    </div>
                </div>

                <!-- Messages Area -->
                <div class="messages-area" id="messagesArea">
                    <!-- Welcome Message -->
                    <div class="message bot">
                        <div class="message-avatar">AI</div>
                        <div class="message-content">
                            <div class="category-badge">WELCOME</div>
                            <div class="message-text">
                                Hello! I'm your Campus AI Assistant. I'm here to help you with:
                                <br><br>
                                ‚Ä¢ Course registration and scheduling
                                <br>‚Ä¢ IT support and technical issues
                                <br>‚Ä¢ Library and research resources
                                <br>‚Ä¢ Financial aid and billing
                                <br>‚Ä¢ Campus facilities and services
                                <br>‚Ä¢ Academic policies and procedures
                                <br><br>
                                How can I assist you today?
                            </div>
                            <div class="message-time">Just now</div>
                        </div>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="input-area">
                    <div class="input-container">
                        <div class="input-wrapper">
                            <textarea 
                                class="message-input" 
                                id="messageInput"
                                placeholder="Type your question here..."
                                rows="1"
                                onkeypress="handleKeyPress(event)"
                            ></textarea>
                            <div class="input-actions">
                                <button class="input-action-btn" title="Attach File">üìé</button>
                            </div>
                        </div>
                        <button class="send-btn" onclick="sendMessage()">‚û§</button>
                    </div>
                    <div class="suggested-actions">
                        <div class="suggestion-chip" onclick="sendSuggestion('How do I register for classes?')">
                            How do I register for classes?
                        </div>
                        <div class="suggestion-chip" onclick="sendSuggestion('Reset my password')">
                            Reset my password
                        </div>
                        <div class="suggestion-chip" onclick="sendSuggestion('Library hours')">
                            Library hours
                        </div>
                        <div class="suggestion-chip" onclick="sendSuggestion('Contact my advisor')">
                            Contact my advisor
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // Initialize background particles
        function createParticles() {
            const bgAnimation = document.getElementById('bgAnimation');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (15 + Math.random() * 10) + 's';
                bgAnimation.appendChild(particle);
            }
        }
        createParticles();

        // Chat functionality
        const messagesArea = document.getElementById('messagesArea');
        const messageInput = document.getElementById('messageInput');
        const aiResponses = {
            'course registration': {
                category: 'ACADEMIC',
                response: 'For course registration, you can access the student portal at portal.university.edu. Registration periods are typically open 2 weeks before each semester. Would you like help with:\n\n1. Finding available courses\n2. Understanding prerequisites\n3. Resolving registration holds\n4. Adding/dropping courses'
            },
            'it support': {
                category: 'TECHNICAL',
                response: 'I can help you with IT issues. Common solutions include:\n\n‚Ä¢ WiFi: Connect to "CampusWiFi" using your student credentials\n‚Ä¢ Email: Access at mail.university.edu\n‚Ä¢ Software: Free downloads available at software.university.edu\n‚Ä¢ Password reset: Visit account.university.edu/reset\n\nWhat specific issue are you experiencing?'
            },
            'library services': {
                category: 'RESOURCES',
                response: 'Our library offers extensive resources:\n\n‚Ä¢ Online databases: Access with student ID\n‚Ä¢ Study rooms: Book at library.university.edu/rooms\n‚Ä¢ Research assistance: Schedule appointments with librarians\n‚Ä¢ Hours: Mon-Thu 7am-12am, Fri 7am-8pm, Sat-Sun 10am-8pm\n\nWhat library service do you need help with?'
            },
            'financial aid': {
                category: 'FINANCIAL',
                response: 'Financial Aid information:\n\n‚Ä¢ FAFSA deadline: March 1st for priority consideration\n‚Ä¢ Scholarships: Check portal.university.edu/scholarships\n‚Ä¢ Payment plans: Available through the bursar\'s office\n‚Ä¢ Aid disbursement: Typically first week of classes\n\nDo you have specific questions about your financial aid package?'
            },
            'wifi': {
                category: 'TECHNICAL',
                response: 'To connect to campus WiFi:\n\n1. Select network "CampusWiFi"\n2. Enter your student email\n3. Use your portal password\n4. Accept the certificate if prompted\n\nIf you\'re having trouble, try:\n‚Ä¢ Forgetting the network and reconnecting\n‚Ä¢ Updating your device\'s network drivers\n‚Ä¢ Contacting IT at ext. 4357'
            },
            'password': {
                category: 'ACCOUNT',
                response: 'To reset your password:\n\n1. Visit account.university.edu/reset\n2. Enter your student ID\n3. Check your email for reset link\n4. Create a new password (min 8 characters, include numbers and symbols)\n\nPassword must be changed every 90 days for security. Need additional help?'
            },
            'transcript': {
                category: 'RECORDS',
                response: 'To request transcripts:\n\n‚Ä¢ Official transcripts: Order through registrar.university.edu\n‚Ä¢ Processing time: 3-5 business days\n‚Ä¢ Cost: $10 per official transcript\n‚Ä¢ Unofficial transcripts: Free download from student portal\n\nDelivery options include electronic (fastest) or mail. Which type do you need?'
            },
            'advisor': {
                category: 'ADVISING',
                response: 'To contact your academic advisor:\n\n1. Find your advisor\'s name in the student portal under "My Team"\n2. Schedule appointments through navigate.university.edu\n3. Walk-in hours: Usually Tue/Thu 2-4pm\n4. Email format: [advisorname]@university.edu\n\nWould you like help scheduling an appointment?'
            },
            'parking': {
                category: 'CAMPUS',
                response: 'Parking information:\n\n‚Ä¢ Student permits: $150/semester\n‚Ä¢ Apply online at parking.university.edu\n‚Ä¢ Zones: Blue (commuter), Green (resident), Gold (faculty/staff)\n‚Ä¢ Visitor parking: $5/day at kiosks\n‚Ä¢ Violations: Appeal within 10 days online\n\nDo you need help with permit application or finding parking locations?'
            },
            'default': {
                category: 'GENERAL',
                response: 'I understand you need assistance. Let me connect you with the right resources. Could you provide more details about your question? You can also try:\n\n‚Ä¢ Calling the help desk: (555) 123-4567\n‚Ä¢ Visiting the student services center in Building A\n‚Ä¢ Checking the FAQ at help.university.edu'
            }
        };
        function getCurrentTime() {
            const now = new Date();
            return now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });
        }
        function addMessage(text, isUser = false, category = null) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = isUser ? 'U' : 'AI';
            const content = document.createElement('div');
            content.className = 'message-content';
            let contentHTML = '';
            if (category && !isUser) {
                contentHTML += `<div class="category-badge">${category}</div>`;
            }
            contentHTML += `<div class="message-text">${text.replace(/\n/g, '<br>')}</div>`;
            contentHTML += `<div class="message-time">${getCurrentTime()}</div>`;
            content.innerHTML = contentHTML;
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(content);
            messagesArea.appendChild(messageDiv);
            messagesArea.scrollTop = messagesArea.scrollHeight;
        }
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot';
            typingDiv.id = 'typingIndicator';
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            const content = document.createElement('div');
            content.className = 'message-content';
            content.innerHTML = `
                <div class="typing-indicator">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            typingDiv.appendChild(avatar);
            typingDiv.appendChild(content);
            messagesArea.appendChild(typingDiv);
            messagesArea.scrollTop = messagesArea.scrollHeight;
        }
        function removeTypingIndicator() {
            const typingDiv = document.getElementById('typingIndicator');
            if (typingDiv) typingDiv.parentNode.removeChild(typingDiv);
        }
        function sendMessage() {
            const userText = messageInput.value.trim();
            if (!userText) return;
            addMessage(userText, true);
            messageInput.value = '';
            setTimeout(() => {
                showTypingIndicator();
                setTimeout(() => {
                    removeTypingIndicator();
                    handleAIResponse(userText);
                }, 800);
            }, 300);
        }
        function sendQuickAction(text) {
            messageInput.value = text;
            sendMessage();
        }
        function sendSuggestion(text) {
            messageInput.value = text;
            sendMessage();
        }
        function handleKeyPress(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        }
        function handleAIResponse(userText) {
            const lowerText = userText.toLowerCase();
            let matchedKey = null;
            if (lowerText.includes('register')) matchedKey = 'course registration';
            else if (lowerText.includes('it') || lowerText.includes('technical') || lowerText.includes('wifi')) matchedKey = 'it support';
            else if (lowerText.includes('library')) matchedKey = 'library services';
            else if (lowerText.includes('financial')) matchedKey = 'financial aid';
            else if (lowerText.includes('wifi')) matchedKey = 'wifi';
            else if (lowerText.includes('password')) matchedKey = 'password';
            else if (lowerText.includes('transcript')) matchedKey = 'transcript';
            else if (lowerText.includes('advisor')) matchedKey = 'advisor';
            else if (lowerText.includes('parking')) matchedKey = 'parking';
            let responseObj = aiResponses[matchedKey] || aiResponses['default'];
            addMessage(responseObj.response, false, responseObj.category);
        }
        function clearChat() {
            messagesArea.innerHTML = '';
            addMessage(`Hello! I'm your Campus AI Assistant. I'm here to help you with:
                <br><br>
                ‚Ä¢ Course registration and scheduling
                <br>‚Ä¢ IT support and technical issues
                <br>‚Ä¢ Library and research resources
                <br>‚Ä¢ Financial aid and billing
                <br>‚Ä¢ Campus facilities and services
                <br>‚Ä¢ Academic policies and procedures
                <br><br>
                How can I assist you today?`, false, 'WELCOME');
        }
        function exportChat() {
            let chatText = '';
            const allMessages = messagesArea.querySelectorAll('.message');
            allMessages.forEach(msg => {
                const isUser = msg.classList.contains('user');
                const who = isUser ? 'User' : 'AI';
                const text = msg.querySelector('.message-text')?.innerText || '';
                chatText += `${who}: ${text}\n\n`;
            });
            const blob = new Blob([chatText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'campus_ai_chat.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>